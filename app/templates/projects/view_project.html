{% extends 'base.html' %}
{% block content %}
<div class="page-wrapper">
    <div class="container my-5">
        <div class="card shadow rounded-4 p-4" style="background-color: rgb(171 171 171 / 15%);   padding: 2rem;    border-radius: 50px;    display: flex;    flex-direction: column; backdrop-filter: blur(15px);   box-shadow: 0 0 10px;">
            <h2 class="mb-4" style="border-bottom: 1px solid #d9d9d9; padding-bottom: 2rem;">Просмотр проекта</h2>
            
            <div class="row gy-4">
                
                {% for field in display_fields %}
                {% set value = project_dict.get(field) %}
                <div class="col-md-6">
                    <label class="form-label text-muted"> {{ field_labels.get(field, field|replace('_', ' ')|title) }} </label>
                    <div class="fs-5 fw-semibold">{{ value if value else '-' }}</div>
                </div>
                {% endfor %}

                <div class="col-md-6">
                    <label class="form-label text-muted"> Банки участники </label>
                    <div class="fs-5 fw-semibold">
                        {% if project.bb %}ББ {% endif %}
                        {% if project.vvb %}ВВБ {% endif %}
                        {% if project.dvb %}ДВБ {% endif %}
                        {% if project.mb %}МБ {% endif %}
                        {% if project.pb %}ПБ {% endif %}
                        {% if project.szb %}СЗБ {% endif %}
                        {% if project.sibb %}СибБ {% endif %}
                        {% if project.srb %}СРБ {% endif %}
                        {% if project.ub %}УБ {% endif %}
                        {% if project.ccb %}ЦЧБ {% endif %}
                        {% if project.yuzb %}ЮЗБ {% endif %}
                    </div>
                </div>
                <div class="col-md-6">
                    <label class="form-label text-muted">Статус</label>
                    <div class="fs-5 fw-semibold text-{{ 'success' if project.status == 'Завершен' else 'info' }}">
                        {{ project.status }}
                    </div>
                </div>
            </div>
                <div style="display: flex; justify-content: end; border-top: 1px solid #d9d9d9; padding-top: 2rem; gap: 1rem;">
                    <a href="{{ url_for('project_new.index') }}" class="btn btn-secondary" id="view-btn-back">Назад</a>
                    {% if current_user.is_authenticated %}
                        {% if (project.creator == current_user.id and project.status != 'Завершен') or current_user.status == 1   %}
                            <a href="{{ url_for('project_new.edit_project', project_id=project.id) }}" class="btn btn-secondary" id="view-btn-edit">Редактировать</a>
                        {% endif %}
                    {% endif %}
                </div>
        </div>
    </div>
</div>
{% endblock %}